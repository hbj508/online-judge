{% extends "main_layout.html" %}
{% block extra_css %}
    <!-- codemirror -->
    <link rel="stylesheet" href="{{ url_for('static',filename='codemirror/lib/codemirror.css') }}">
    <script src="{{ url_for('static',filename='codemirror/lib/codemirror.js') }}"></script>
    <script src="{{ url_for('static',filename='codemirror/addon/edit/matchbrackets.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static',filename='codemirror/addon/hint/show-hint.css') }}">
    <script src="{{ url_for('static',filename='codemirror/addon/hint/show-hint.js') }}"></script>
    <script src="{{ url_for('static',filename='codemirror/mode/clike/clike.js') }}"></script>
    <script src="{{ url_for('static',filename='codemirror/addon/selection/active-line.js') }}"></script>
    <script src="{{ url_for('static',filename='codemirror/addon/edit/matchbrackets.js') }}"></script>
    <style>.CodeMirror {
        border: 2px inset #dee;
    }</style>

    <!-- theme -->
    <link rel="stylesheet" href="{{ url_for('static',filename='codemirror/lib/codemirror.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',filename='codemirror/theme/3024-day.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',filename='codemirror/theme/3024-night.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',filename='codemirror/theme/abcdef.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',filename='codemirror/theme/base16-dark.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',filename='codemirror/theme/ambiance.css') }}">
{% endblock %}

{% block main %}
    <div class="row">
        <div class="col s12">
            <ul class="tabs">
                <li class="tab col s3"><a class="active" href="#test1">Problem</a></li>
                <li class="tab col s3"><a href="#test2">Code Editor</a></li>
                <div class="col s6 offset-s6"><span class="flow-text"></span></div>
            </ul>
        </div>
    </div>

    <!-- TODO get the problem content dynamically from the previous page content-->
    <div id="test1" class="col s12">
        <ul class="collapsible" data-collapsible="expandable">

            <!-- problems -->
            <li>
                <div class="collapsible-header active">{{ problem.title }}</div>
                <div class="collapsible-body" style="padding:20px">
                    {{ problem.statement | safe }}
                </div>
            </li>

            <!-- input -->
            <li>
                <div class="collapsible-header">Input</div>
                <div class="collapsible-body" style="padding:20px">
                        {{ problem.input_format | safe }}
                        <br>
                        Sample Input: <br>
                        {{ problem.sample_input | safe }}
                </div>
            </li>

            <!-- output -->
            <li>
                <div class="collapsible-header">output</div>
                <div class="collapsible-body" style="padding:20px">
                        {{ problem.output_format | safe }}
                        Sample Output: <br>
                        {{ problem.sample_output | safe }}
                </div>
            </li>

            <!-- constraints -->
            <li>
                <div class="collapsible-header">Constraints</div>
                <div class="collapsible-body" style="padding:20px">
                        {{ problem.constraints | safe }}
                </div>
            </li>
        </ul>
    </div>

    <div id="test2" class="col s12">
        <div class="col s12">
            <ul class="tabs">
                <li class="tab col s4"><a class="active" href="#java">java</a></li>
                <li class="tab col s4"><a href="#c">C</a></li>
                <li class="tab col s4"><a href="#cpp">C++</a></li>
            </ul>
        </div>

        <div id="java" class="col s12">
            <form action="{{ url_for('problem_solving',problem_id=problem.id) }}" method="post">
                <div class="row">
                    <p>
                        <span class="col s1">Select a theme: </span>
                        <select class="col s3 browser-default" onchange="selectTheme()" id="select">
                            <option selected>default</option>
                            <option>ambiance</option>
                            <option>base16-dark</option>
                            <option>base16-light</option>
                            <option>bespin</option>
                        </select>
                        <input class="col s3" name="code_lang" value="java" style="visibility: collapse;">
                    </p>
                </div>
			<textarea id="code" name="code">
			</textarea>
                <div class="row right">
                    <div class="col s6 offset-s6"><span class="flow-text"></span></div>
                    <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                        <i class="material-icons right">send</i>
                    </button>
                </div>
            </form>
        </div>

        <div id="c" class="col s12">
            <form action="{{ url_for('problem_solving',problem_id=problem.id) }}" method="post">
                <div class="row">
                    <p>
                        <span class="col s1">Select a theme: </span>
                        <select class="col s3 browser-default" onchange="cselectTheme()" id="cselect">
                            <option selected>default</option>
                            <option>ambiance</option>
                            <option>base16-dark</option>
                            <option>base16-light</option>
                            <option>bespin</option>
                        </select>
                        <input class="col s3" name="code_lang" value="c" style="visibility: collapse;">
                    </p>
                </div>
		<textarea id="ccode" name="code">
		</textarea>
                <div class="row right">
                    <div class="col s6 offset-s6"><span class="flow-text"></span></div>
                    <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                        <i class="material-icons right">send</i>
                    </button>
                </div>
            </form>
        </div>

        <div id="cpp" class="col s12">
            <form action="{{ url_for('problem_solving',problem_id=problem.id) }}" method="post">
                <div class="row">
                    <p>
                        <span class="col s1">Select a theme: </span>
                        <select class="col s3 browser-default" onchange="cppselectTheme()" id="cppselect">
                            <option selected>default</option>
                            <option>ambiance</option>
                            <option>base16-dark</option>
                            <option>base16-light</option>
                            <option>bespin</option>
                        </select>
                        <input class="col s3" name="code_lang" value="cpp" style="visibility: collapse;">
                    </p>
                </div>
		<textarea id="cppcode" name="code">
		</textarea>
                <div class="row right">
                    <div class="col s6 offset-s6"><span class="flow-text"></span></div>
                    <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                        <i class="material-icons right">send</i>
                    </button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}

{% block extra_post_scripts %}
    <script type="text/javascript" src="{{ url_for('static',filename='js/java-editor.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static',filename='js/ceditor.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static',filename='js/cppeditor.js') }}"></script>
    <script type="text/javascript">
    </script>
{% endblock %}
